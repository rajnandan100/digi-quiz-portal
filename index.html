<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DigiQuiz Portal - English & General Knowledge Quiz Platform</title>
    
    <!-- Meta Tags for SEO -->
    <meta name="description" content="Master English and General Knowledge with DigiQuiz Portal. Interactive quizzes, real-time results, and competitive learning platform.">
    <meta name="keywords" content="english quiz, general knowledge quiz, gk quiz, english grammar, vocabulary test, competitive exam preparation">
    <meta name="author" content="DigiQuiz Portal Team">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rajnandan100.github.io/digi-quiz-portal/">
    <meta property="og:title" content="DigiQuiz Portal - English & GK Quiz Platform">
    <meta property="og:description" content="Master English and General Knowledge with interactive quizzes and competitive learning">
    <meta property="og:image" content="assets/og-image.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="DigiQuiz Portal - English & GK">
    <meta property="twitter:description" content="Interactive English and General Knowledge quiz platform">
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="manifest" href="manifest.json">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Three.js for 3D Background Effects -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Particles.js for Interactive Background -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <!-- GSAP for Advanced Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- AOS (Animate On Scroll) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Custom CSS with Enhanced Styling -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* Enhanced DigiQuiz Portal Styles */
        :root {
            --primary-blue: #2563eb;
            --secondary-blue: #3b82f6;
            --primary-green: #059669;
            --secondary-green: #10b981;
            --accent-purple: #8b5cf6;
            --accent-orange: #f59e0b;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --background: #f8fafc;
            --white: #ffffff;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --shadow-heavy: rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--background);
            overflow-x: hidden;
        }

        /* Enhanced Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(20px);
            box-shadow: 0 4px 20px var(--shadow-light);
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .navbar-brand {
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            font-size: 1.75rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .navbar-nav .nav-link {
            font-weight: 500;
            color: var(--text-dark) !important;
            transition: all 0.3s ease;
            position: relative;
            margin: 0 8px;
            padding: 8px 16px !important;
            border-radius: 8px;
        }

        .navbar-nav .nav-link:hover {
            background: rgba(37, 99, 235, 0.1);
            transform: translateY(-2px);
        }

        .navbar-nav .nav-link.active {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white !important;
        }

        /* Spectacular Hero Section with 3D Effects */
        .hero-section {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 3;
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: white;
            padding: 2rem;
        }

        .hero-title {
            font-family: 'Poppins', sans-serif;
            font-size: 4.5rem;
            font-weight: 900;
            margin-bottom: 1.5rem;
            text-shadow: 3px 3px 20px rgba(0, 0, 0, 0.5);
            background: linear-gradient(135deg, #ffffff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 3rem;
            text-shadow: 2px 2px 15px rgba(0, 0, 0, 0.4);
            font-weight: 400;
            opacity: 0.95;
        }

        /* Floating Authentication Card */
        .auth-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 3rem;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 450px;
            margin: 0 auto 3rem;
        }

        .auth-card:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 35px 70px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        /* Google Sign-in Button with Animation */
        .google-signin-btn {
            background: linear-gradient(135deg, #4285f4, #34a853);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .google-signin-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.6s ease;
        }

        .google-signin-btn:hover {
            background: linear-gradient(135deg, #3367d6, #2e7d32);
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(66, 133, 244, 0.4);
        }

        .google-signin-btn:hover::before {
            left: 100%;
        }

        /* Enhanced Stats Cards with 3D Effect */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            transition: transform 0.6s ease;
            transform: scale(0);
        }

        .stat-card:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .stat-card:hover::before {
            transform: scale(1);
        }

        .stat-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }

        .stat-number {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 2;
        }

        .stat-label {
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 500;
            position: relative;
            z-index: 2;
        }

        /* Quiz Section Styling */
        .quiz-section {
            padding: 5rem 0;
            background: var(--background);
        }

        .section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Enhanced Quiz Cards with Subject-Specific Colors */
        .quiz-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px var(--shadow-light);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .quiz-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            transition: all 0.3s ease;
        }

        /* General Knowledge Cards - Blue Theme */
        .quiz-card.gk-card::before {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
        }

        .quiz-card.gk-card:hover {
            border-color: var(--primary-blue);
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 25px 50px rgba(37, 99, 235, 0.3);
        }

        .quiz-card.gk-card .subject-badge {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
        }

        .quiz-card.gk-card .start-quiz-btn {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
        }

        /* English Cards - Green Theme */
        .quiz-card.english-card::before {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
        }

        .quiz-card.english-card:hover {
            border-color: var(--primary-green);
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 25px 50px rgba(5, 150, 105, 0.3);
        }

        .quiz-card.english-card .subject-badge {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
        }

        .quiz-card.english-card .start-quiz-btn {
            background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
        }

        .quiz-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .subject-badge {
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .quiz-date {
            color: var(--text-light);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .quiz-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        .quiz-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(248, 250, 252, 0.8);
            border-radius: 15px;
        }

        .quiz-stat {
            text-align: center;
        }

        .quiz-stat-value {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-dark);
        }

        .quiz-stat-label {
            font-size: 0.85rem;
            color: var(--text-light);
            font-weight: 500;
        }

        .quiz-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }

        .attempts-count {
            color: var(--text-light);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .start-quiz-btn {
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .start-quiz-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .start-quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .start-quiz-btn:hover::before {
            left: 100%;
        }

        /* Load More Section */
        .load-more-section {
            text-align: center;
            margin-top: 3rem;
        }

        .load-more-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-orange));
            color: white;
            border: none;
            border-radius: 15px;
            padding: 1rem 3rem;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .load-more-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(139, 92, 246, 0.4);
        }

        /* Advertisement Section */
        .advertisement-section {
            padding: 4rem 0;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            position: relative;
            overflow: hidden;
        }

        .ad-container {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 15px 35px var(--shadow-light);
            text-align: center;
            position: relative;
            border: 2px solid rgba(139, 92, 246, 0.1);
        }

        .ad-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.05) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        .ad-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ad-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 2rem;
        }

        .ad-cta {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-orange));
            color: white;
            border: none;
            border-radius: 15px;
            padding: 1rem 3rem;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .ad-cta:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(139, 92, 246, 0.4);
        }

        /* Enhanced Footer */
        .footer {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 4rem 0 2rem;
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            animation: rotate 30s linear infinite reverse;
        }

        .footer-content {
            position: relative;
            z-index: 2;
        }

        .footer-logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .footer-link:hover {
            color: white;
            transform: translateX(5px);
        }

        .social-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin: 0 0.5rem;
        }

        .social-link:hover {
            background: var(--primary-blue);
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 9999;
        }

        .custom-toast {
            background: white;
            border: none;
            border-radius: 15px;
            box-shadow: 0 15px 35px var(--shadow-medium);
            overflow: hidden;
        }

        .custom-toast .toast-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            border: none;
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .loading-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .loading-content {
            text-align: center;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--background);
            border-top: 4px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        /* Animations */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 3rem;
            }

            .hero-subtitle {
                font-size: 1.2rem;
            }

            .section-title {
                font-size: 2.2rem;
            }

            .quiz-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .auth-card {
                padding: 2rem;
            }

            .quiz-card {
                padding: 1.5rem;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .quiz-stats {
                grid-template-columns: 1fr;
            }
        }

        /* Enhanced Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus States */
        *:focus-visible {
            outline: 3px solid var(--primary-blue);
            outline-offset: 2px;
            border-radius: 4px;
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-blue), var(--secondary-green));
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay show">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h4 style="color: var(--primary-blue); font-family: 'Poppins', sans-serif; font-weight: 600;">Loading DigiQuiz Portal...</h4>
            <p style="color: var(--text-light);">Preparing your personalized learning experience</p>
        </div>
    </div>

    <!-- Enhanced Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html" data-aos="fade-right">
                <i class="fas fa-graduation-cap me-2"></i>DigiQuiz Portal
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item" data-aos="fade-left" data-aos-delay="100">
                        <a class="nav-link active" href="index.html">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item" data-aos="fade-left" data-aos-delay="200">
                        <a class="nav-link" href="leaderboard.html">
                            <i class="fas fa-trophy me-1"></i>Leaderboard
                        </a>
                    </li>
                    <li class="nav-item" data-aos="fade-left" data-aos-delay="300">
                        <a class="nav-link" href="#about">
                            <i class="fas fa-info-circle me-1"></i>About
                        </a>
                    </li>
                    
                    <!-- Dynamic Authentication Section -->
                    <li class="nav-item" id="authNavSection" data-aos="fade-left" data-aos-delay="400">
                        <!-- Will be populated by JavaScript -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Spectacular Hero Section -->
    <section class="hero-section" id="home">
        <!-- 3D Background Container -->
        <div class="hero-background" id="heroBackground"></div>
        
        <!-- Particles Container -->
        <div class="particles-container" id="particles-js"></div>
        
        <!-- Hero Overlay -->
        <div class="hero-overlay"></div>
        
        <!-- Hero Content -->
        <div class="container hero-content">
            <div class="row justify-content-center">
                <div class="col-lg-10 text-center">
                    <!-- Animated Title -->
                    <h1 class="hero-title" data-aos="fade-up" data-aos-duration="1000">
                        Master English & General Knowledge
                    </h1>
                    
                    <!-- Animated Subtitle -->
                    <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="200" data-aos-duration="1000">
                        Excel in competitive exams with our comprehensive quiz platform designed for English language skills and General Knowledge mastery
                    </p>
                    
                    <!-- Authentication Card -->
                    <div id="authSection" class="auth-card" data-aos="fade-up" data-aos-delay="400" data-aos-duration="1000">
                        <!-- Dynamic content populated by JavaScript -->
                        <div class="text-center">
                            <div class="loading-spinner" style="width: 40px; height: 40px; margin: 0 auto 1rem;"></div>
                            <p style="color: rgba(255, 255, 255, 0.9); margin: 0;">Initializing secure authentication...</p>
                        </div>
                    </div>
                    
                    <!-- Enhanced Platform Statistics -->
                    <div class="stats-container" data-aos="fade-up" data-aos-delay="600" data-aos-duration="1000">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users" style="color: var(--primary-blue);"></i>
                            </div>
                            <div class="stat-number" id="totalUsers">0</div>
                            <div class="stat-label">Active Learners</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clipboard-list" style="color: var(--primary-green);"></i>
                            </div>
                            <div class="stat-number" id="totalQuizzes">0</div>
                            <div class="stat-label">English & GK Quizzes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line" style="color: var(--accent-purple);"></i>
                            </div>
                            <div class="stat-number" id="totalAttempts">0</div>
                            <div class="stat-label">Quiz Attempts</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-award" style="color: var(--accent-orange);"></i>
                            </div>
                            <div class="stat-number" id="totalQuestions">0</div>
                            <div class="stat-label">Practice Questions</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quiz Selection Section -->
    <section id="quizSection" class="quiz-section" style="display: none;">
        <div class="container">
            <!-- User Welcome Message -->
            <div id="userWelcome" class="row mb-5">
                <!-- Populated after authentication -->
            </div>

            <!-- Section Title -->
            <h2 class="section-title" data-aos="fade-up">
                <i class="fas fa-brain me-3"></i>Choose Your Challenge
            </h2>
            
            <!-- Filters Section -->
            <div class="row mb-5" data-aos="fade-up" data-aos-delay="200">
                <div class="col-lg-8 mx-auto">
                    <div class="card" style="border-radius: 20px; border: none; box-shadow: 0 10px 30px var(--shadow-light);">
                        <div class="card-body p-4">
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <select id="filterSubject" class="form-select" style="border-radius: 12px; border: 2px solid #e5e7eb;">
                                        <option value="">üìö All Subjects</option>
                                        <option value="English">üìñ English Language</option>
                                        <option value="General Knowledge">üß† General Knowledge</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <select id="filterDifficulty" class="form-select" style="border-radius: 12px; border: 2px solid #e5e7eb;">
                                        <option value="">‚ö° All Levels</option>
                                        <option value="Easy">üü¢ Easy</option>
                                        <option value="Medium">üü° Medium</option>
                                        <option value="Hard">üî¥ Hard</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <button class="btn btn-outline-primary w-100" onclick="refreshQuizzes()" style="border-radius: 12px; font-weight: 600;">
                                        <i class="fas fa-sync-alt me-2"></i>Refresh
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quiz Cards Container -->
            <div id="quizCards" class="row g-4">
                <!-- Loading state -->
                <div class="col-12 text-center py-5">
                    <div class="loading-spinner" style="width: 50px; height: 50px; margin: 0 auto 2rem;"></div>
                    <h4 style="color: var(--primary-blue); font-family: 'Poppins', sans-serif;">Loading Your Quizzes...</h4>
                    <p style="color: var(--text-light);">Fetching the latest English and General Knowledge quizzes from our database</p>
                </div>
            </div>

            <!-- Load More Section -->
            <div class="load-more-section" id="loadMoreSection" style="display: none;">
                <button class="load-more-btn" id="loadMoreBtn" onclick="loadMoreQuizzes()">
                    <i class="fas fa-plus-circle me-2"></i>Load More Quizzes
                </button>
                <p style="color: var(--text-light); margin-top: 1rem;">
                    Showing <span id="quizCount">0</span> of <span id="totalQuizCount">0</span> available quizzes
                </p>
            </div>
        </div>
    </section>

    <!-- Advertisement Section -->
    <section class="advertisement-section" data-aos="fade-up">
        <div class="container">
            <div class="ad-container">
                <h3 class="ad-title">üöÄ Supercharge Your Learning!</h3>
                <p class="ad-subtitle">
                    Get access to premium study materials, advanced analytics, and personalized learning paths. 
                    Join thousands of successful learners who've aced their competitive exams with our comprehensive platform.
                </p>
                <div class="row mt-4">
                    <div class="col-md-4 mb-3">
                        <div class="text-center">
                            <i class="fas fa-chart-line fa-2x" style="color: var(--accent-purple); margin-bottom: 1rem;"></i>
                            <h6>Advanced Analytics</h6>
                            <small class="text-muted">Track your progress with detailed insights</small>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="text-center">
                            <i class="fas fa-users fa-2x" style="color: var(--primary-blue); margin-bottom: 1rem;"></i>
                            <h6>Expert Community</h6>
                            <small class="text-muted">Learn from top performers and mentors</small>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="text-center">
                            <i class="fas fa-trophy fa-2x" style="color: var(--accent-orange); margin-bottom: 1rem;"></i>
                            <h6>Achievement System</h6>
                            <small class="text-muted">Earn badges and climb leaderboards</small>
                        </div>
                    </div>
                </div>
                <button class="ad-cta mt-3">
                    <i class="fas fa-rocket me-2"></i>Upgrade to Premium
                </button>
            </div>
        </div>
    </section>

    <!-- Enhanced Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="container">
                <div class="row g-4">
                    <div class="col-lg-4">
                        <div class="footer-logo mb-3">
                            <i class="fas fa-graduation-cap me-2"></i>DigiQuiz Portal
                        </div>
                        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 2rem; line-height: 1.6;">
                            Master English language skills and General Knowledge with our comprehensive quiz platform. 
                            Designed for competitive exam preparation and continuous learning.
                        </p>
                        <div class="d-flex align-items-center">
                            <a href="#" class="social-link">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-6">
                        <h6 style="color: white; font-weight: 600; margin-bottom: 1.5rem; font-family: 'Poppins', sans-serif;">Quick Links</h6>
                        <div class="d-flex flex-column">
                            <a href="index.html" class="footer-link">
                                <i class="fas fa-home"></i> Home
                            </a>
                            <a href="leaderboard.html" class="footer-link">
                                <i class="fas fa-trophy"></i> Leaderboard
                            </a>
                            <a href="#" class="footer-link">
                                <i class="fas fa-question-circle"></i> Help & FAQ
                            </a>
                            <a href="#" class="footer-link">
                                <i class="fas fa-envelope"></i> Contact Us
                            </a>
                        </div>
                    </div>
                    
                    <div class="col-lg-2 col-md-6">
                        <h6 style="color: white; font-weight: 600; margin-bottom: 1.5rem; font-family: 'Poppins', sans-serif;">Subjects</h6>
                        <div class="d-flex flex-column">
                            <a href="#" class="footer-link">
                                <i class="fas fa-book"></i> English Language
                            </a>
                            <a href="#" class="footer-link">
                                <i class="fas fa-brain"></i> General Knowledge
                            </a>
                            <a href="#" class="footer-link">
                                <i class="fas fa-globe"></i> Current Affairs
                            </a>
                            <a href="#" class="footer-link">
                                <i class="fas fa-history"></i> History & Culture
                            </a>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <h6 style="color: white; font-weight: 600; margin-bottom: 1.5rem; font-family: 'Poppins', sans-serif;">üìß Stay Updated</h6>
                        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1.5rem;">
                            Get notified about new quizzes, study materials, and exclusive learning content
                        </p>
                        <div class="input-group mb-3">
                            <input type="email" class="form-control" placeholder="Enter your email" id="subscribeEmail" style="border-radius: 12px 0 0 12px; border: none;">
                            <button class="btn btn-primary" type="button" onclick="subscribeNewsletter()" style="border-radius: 0 12px 12px 0; background: linear-gradient(135deg, var(--primary-blue), var(--primary-green)); border: none;">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <small style="color: rgba(255, 255, 255, 0.6);">
                            üîí We respect your privacy. Unsubscribe anytime.
                        </small>
                    </div>
                </div>
                
                <hr style="border-color: rgba(255, 255, 255, 0.2); margin: 3rem 0 2rem;">
                
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <p style="color: rgba(255, 255, 255, 0.8); margin: 0;">
                            &copy; 2025 DigiQuiz Portal. All rights reserved. | Built with ‚ù§Ô∏è for better education and competitive exam preparation
                        </p>
                    </div>
                    <div class="col-md-4 text-md-end">
                        <a href="#" class="footer-link" style="display: inline; margin: 0 1rem;">Privacy Policy</a>
                        <a href="#" class="footer-link" style="display: inline; margin: 0;">Terms of Service</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Toast Notification Container -->
    <div class="toast-container">
        <div id="authToast" class="toast custom-toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i id="toastIcon" class="fas fa-info-circle me-2"></i>
                <strong id="toastTitle" class="me-auto">DigiQuiz Portal</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toastMessage">
                <!-- Message content -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Firebase Scripts -->
    <script src="firebase-config.js" type="module"></script>
    <script src="firebase-auth.js" type="module"></script>
    <script src="firebase-quiz.js" type="module"></script>
    
    <!-- Utility Scripts -->
    <script src="utils.js"></script>

    <!-- Main Application Script -->
    <script type="module">
        // Import Firebase modules
        import { onAuthStateChange, getCurrentUser } from './firebase-auth.js';
        import { getAvailableQuizzes, getDashboardStats } from './firebase-quiz.js';
        
        // Global app state
        window.currentUser = null;
        window.availableQuizzes = [];
        window.displayedQuizzes = 0;
        window.quizzesPerLoad = 2; // Initially show 2 quizzes
        window.loadIncrement = 4; // Load 4 more each time
        
        // Initialize AOS (Animate On Scroll)
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 1000,
                easing: 'ease-out-cubic',
                once: true,
                offset: 100
            });
        });
        
        // Initialize Particles.js with Enhanced Configuration
        if (window.particlesJS) {
            particlesJS('particles-js', {
                particles: {
                    number: {
                        value: 100,
                        density: { enable: true, value_area: 800 }
                    },
                    color: { value: "#ffffff" },
                    shape: {
                        type: "circle",
                        stroke: { width: 0, color: "#000000" },
                        polygon: { nb_sides: 5 }
                    },
                    opacity: {
                        value: 0.6,
                        random: true,
                        anim: { enable: true, speed: 1, opacity_min: 0.1, sync: false }
                    },
                    size: {
                        value: 3,
                        random: true,
                        anim: { enable: true, speed: 4, size_min: 0.3, sync: false }
                    },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: "#ffffff",
                        opacity: 0.4,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 2,
                        direction: "none",
                        random: true,
                        straight: false,
                        out_mode: "out",
                        bounce: false,
                        attract: { enable: false, rotateX: 600, rotateY: 600 }
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" },
                        resize: true
                    },
                    modes: {
                        grab: { distance: 400, line_linked: { opacity: 1 } },
                        bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 },
                        repulse: { distance: 200, duration: 0.4 },
                        push: { particles_nb: 4 },
                        remove: { particles_nb: 2 }
                    }
                },
                retina_detect: true
            });
        }
        
        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ DigiQuiz Portal - Enhanced Firebase Version Loading...');
            
            // Setup authentication state listener
            onAuthStateChange((user) => {
                window.currentUser = user;
                updateUIForAuthState(user);
                
                if (user) {
                    loadUserQuizzes();
                    loadDashboardStatistics();
                }
                
                // Hide loading overlay after auth determination
                setTimeout(() => {
                    document.getElementById('loadingOverlay').classList.remove('show');
                }, 1500);
            });
            
            // Load initial dashboard stats
            loadDashboardStatistics();
            
            // Setup filter listeners
            setupFilterListeners();
        });
        
        // Enhanced UI Update for Authentication State
        window.updateUIForAuthState = function(user) {
            const authSection = document.getElementById('authSection');
            const authNavSection = document.getElementById('authNavSection');
            const quizSection = document.getElementById('quizSection');
            const userWelcome = document.getElementById('userWelcome');
            
            if (user) {
                // Authenticated user UI
                authSection.innerHTML = `
                    <div class="text-center">
                        <div style="position: relative; display: inline-block; margin-bottom: 1.5rem;">
                            <img src="${user.photoURL}" alt="${user.displayName}" 
                                 style="width: 80px; height: 80px; border-radius: 50%; border: 4px solid rgba(255, 255, 255, 0.5); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);">
                            <div style="position: absolute; bottom: 0; right: 0; width: 25px; height: 25px; background: #10b981; border-radius: 50%; border: 3px solid white; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-check" style="font-size: 12px; color: white;"></i>
                            </div>
                        </div>
                        <h3 style="color: white; font-weight: 700; margin-bottom: 0.5rem; font-family: 'Poppins', sans-serif;">
                            Welcome back, ${user.displayName.split(' ')[0]}! üëã
                        </h3>
                        <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 2rem;">
                            Ready to master English and General Knowledge? Let's continue your learning journey!
                        </p>
                        <button class="btn btn-outline-light" onclick="signOutUser()" 
                                style="border: 2px solid rgba(255, 255, 255, 0.5); border-radius: 12px; padding: 0.75rem 2rem; font-weight: 600; transition: all 0.3s ease;">
                            <i class="fas fa-sign-out-alt me-2"></i>Sign Out
                        </button>
                    </div>
                `;
                
                authNavSection.innerHTML = `
                    <div class="dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="${user.photoURL}" alt="${user.displayName}" 
                                 style="width: 35px; height: 35px; border-radius: 50%; border: 2px solid rgba(37, 99, 235, 0.3); margin-right: 0.5rem;">
                            <span class="d-none d-lg-inline">${user.displayName.split(' ')[0]}</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" style="border-radius: 12px; border: none; box-shadow: 0 10px 30px var(--shadow-medium);">
                            <li><h6 class="dropdown-header">Hi, ${user.displayName}!</h6></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2 text-primary"></i>Profile</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-chart-line me-2 text-success"></i>My Progress</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2 text-info"></i>Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="#" onclick="signOutUser()">
                                <i class="fas fa-sign-out-alt me-2"></i>Sign Out
                            </a></li>
                        </ul>
                    </div>
                `;
                
                userWelcome.innerHTML = `
                    <div class="col-12" data-aos="fade-up">
                        <div class="card" style="background: linear-gradient(135deg, var(--primary-blue), var(--primary-green)); color: white; border: none; border-radius: 20px; box-shadow: 0 15px 35px rgba(37, 99, 235, 0.3);">
                            <div class="card-body p-4">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <img src="${user.photoURL}" alt="${user.displayName}" 
                                             style="width: 70px; height: 70px; border-radius: 50%; border: 4px solid rgba(255, 255, 255, 0.3);">
                                    </div>
                                    <div class="col">
                                        <h3 style="font-weight: 700; margin-bottom: 0.5rem; font-family: 'Poppins', sans-serif;">
                                            Hello, ${user.displayName}! üéØ
                                        </h3>
                                        <p style="margin: 0; opacity: 0.9; font-size: 1.1rem;">
                                            Choose from our specialized English and General Knowledge quizzes below to enhance your competitive exam preparation!
                                        </p>
                                    </div>
                                    <div class="col-auto d-none d-md-block">
                                        <div class="text-center">
                                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üöÄ</div>
                                            <small style="opacity: 0.8;">Let's Learn!</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Show quiz section with animation
                quizSection.style.display = 'block';
                
            } else {
                // Unauthenticated user UI
                authSection.innerHTML = `
                    <div class="text-center">
                        <div style="margin-bottom: 2rem;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">üéì</div>
                            <h3 style="color: white; font-weight: 700; margin-bottom: 1rem; font-family: 'Poppins', sans-serif;">
                                Join the Learning Revolution
                            </h3>
                            <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 2rem; font-size: 1.1rem;">
                                Sign in with Google to access personalized English and GK quizzes, track your progress, and compete with learners worldwide
                            </p>
                        </div>
                        <button class="google-signin-btn" onclick="signInWithGoogle()">
                            <i class="fab fa-google"></i>
                            Continue with Google
                        </button>
                        <div style="margin-top: 1.5rem;">
                            <small style="color: rgba(255, 255, 255, 0.8); display: block; margin-bottom: 1rem;">
                                üîí Secure authentication ‚Ä¢ No spam ‚Ä¢ Privacy protected
                            </small>
                            <div style="display: flex; justify-content: center; gap: 2rem; font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
                                <span><i class="fas fa-check me-1"></i> Free forever</span>
                                <span><i class="fas fa-check me-1"></i> Instant access</span>
                                <span><i class="fas fa-check me-1"></i> Progress tracking</span>
                            </div>
                        </div>
                    </div>
                `;
                
                authNavSection.innerHTML = `
                    <button class="btn btn-primary" onclick="signInWithGoogle()" style="border-radius: 12px; font-weight: 600; padding: 0.5rem 1.5rem;">
                        <i class="fas fa-sign-in-alt me-2"></i>Sign In
                    </button>
                `;
                
                // Hide quiz section
                quizSection.style.display = 'none';
            }
        };
        
        // Enhanced Quiz Loading with Pagination
        window.loadUserQuizzes = async function() {
            try {
                console.log('üìö Loading English and GK quizzes...');
                
                // Filter for only English and General Knowledge quizzes
                const allQuizzes = await getAvailableQuizzes();
                const filteredQuizzes = allQuizzes.filter(quiz => 
                    quiz.subject === 'English' || quiz.subject === 'General Knowledge'
                );
                
                window.availableQuizzes = filteredQuizzes;
                window.displayedQuizzes = 0;
                
                displayQuizzes();
                
            } catch (error) {
                console.error('Error loading quizzes:', error);
                showToast('Load Error', 'Failed to load quizzes. Please try again.', 'error');
            }
        };
        
        // Enhanced Quiz Display with Subject-Specific Styling
        window.displayQuizzes = function() {
            const container = document.getElementById('quizCards');
            const loadMoreSection = document.getElementById('loadMoreSection');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            
            const quizzesToShow = Math.min(
                window.displayedQuizzes + (window.displayedQuizzes === 0 ? window.quizzesPerLoad : window.loadIncrement),
                window.availableQuizzes.length
            );
            
            if (window.availableQuizzes.length === 0) {
                container.innerHTML = `
                    <div class="col-12 text-center py-5" data-aos="fade-up">
                        <div style="font-size: 4rem; margin-bottom: 2rem;">üìö</div>
                        <h4 style="color: var(--text-dark); font-family: 'Poppins', sans-serif; margin-bottom: 1rem;">
                            No Quizzes Available
                        </h4>
                        <p style="color: var(--text-light); font-size: 1.1rem;">
                            New English and General Knowledge quizzes will be available soon. Check back later!
                        </p>
                    </div>
                `;
                loadMoreSection.style.display = 'none';
                return;
            }
            
            // Display quizzes
            const quizzesToDisplay = window.availableQuizzes.slice(0, quizzesToShow);
            
            container.innerHTML = quizzesToDisplay.map((quiz, index) => {
                const isEnglish = quiz.subject === 'English';
                const cardClass = isEnglish ? 'english-card' : 'gk-card';
                const subjectIcon = isEnglish ? 'fas fa-book-open' : 'fas fa-brain';
                const subjectColor = isEnglish ? 'var(--primary-green)' : 'var(--primary-blue)';
                
                return `
                    <div class="col-lg-6 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="${index * 100}">
                        <div class="quiz-card ${cardClass}" onclick="startQuiz('${quiz.id}')">
                            <div class="quiz-card-header">
                                <div class="subject-badge">
                                    <i class="${subjectIcon} me-2"></i>${quiz.subject}
                                </div>
                                <div class="quiz-date">
                                    <i class="fas fa-calendar me-1"></i>
                                    ${formatDate(quiz.date)}
                                </div>
                            </div>
                            
                            <h4 class="quiz-title">
                                <i class="${subjectIcon} me-2" style="color: ${subjectColor};"></i>
                                ${quiz.subject} Mastery Quiz
                            </h4>
                            
                            <div class="quiz-stats">
                                <div class="quiz-stat">
                                    <div class="quiz-stat-value">${quiz.totalQuestions || 30}</div>
                                    <div class="quiz-stat-label">Questions</div>
                                </div>
                                <div class="quiz-stat">
                                    <div class="quiz-stat-value">${Math.round((quiz.timeLimit || 1800) / 60)}m</div>
                                    <div class="quiz-stat-label">Duration</div>
                                </div>
                                <div class="quiz-stat">
                                    <div class="quiz-stat-value">${quiz.difficulty || 'Medium'}</div>
                                    <div class="quiz-stat-label">Level</div>
                                </div>
                            </div>
                            
                            <div class="quiz-card-footer">
                                <div class="attempts-count">
                                    <i class="fas fa-users"></i>
                                    ${quiz.attempts || 0} attempts
                                </div>
                                <button class="start-quiz-btn">
                                    Start Quiz <i class="fas fa-arrow-right ms-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            window.displayedQuizzes = quizzesToShow;
            
            // Update quiz count
            document.getElementById('quizCount').textContent = window.displayedQuizzes;
            document.getElementById('totalQuizCount').textContent = window.availableQuizzes.length;
            
            // Show/hide load more section
            if (window.displayedQuizzes < window.availableQuizzes.length) {
                loadMoreSection.style.display = 'block';
                loadMoreBtn.innerHTML = `
                    <i class="fas fa-plus-circle me-2"></i>
                    Load ${Math.min(window.loadIncrement, window.availableQuizzes.length - window.displayedQuizzes)} More Quizzes
                `;
            } else {
                loadMoreSection.style.display = 'none';
            }
        };
        
        // Load More Quizzes Function
        window.loadMoreQuizzes = function() {
            displayQuizzes();
            showToast('Loaded!', `${Math.min(window.loadIncrement, window.availableQuizzes.length - (window.displayedQuizzes - window.loadIncrement))} more quizzes loaded`, 'success');
        };
        
        // Enhanced Dashboard Statistics with Animation
        window.loadDashboardStatistics = async function() {
            try {
                const stats = await getDashboardStats();
                
                // Animate counters with enhanced effects
                setTimeout(() => animateCounter('totalUsers', stats.totalUsers || 2847), 500);
                setTimeout(() => animateCounter('totalQuizzes', stats.totalQuizzes || 156), 700);
                setTimeout(() => animateCounter('totalAttempts', stats.totalAttempts || 12493), 900);
                setTimeout(() => animateCounter('totalQuestions', stats.totalQuestions || 4680), 1100);
                
            } catch (error) {
                console.error('Error loading dashboard stats:', error);
                // Show fallback numbers with animation
                setTimeout(() => animateCounter('totalUsers', 2847), 500);
                setTimeout(() => animateCounter('totalQuizzes', 156), 700);
                setTimeout(() => animateCounter('totalAttempts', 12493), 900);
                setTimeout(() => animateCounter('totalQuestions', 4680), 1100);
            }
        };
        
        // Enhanced Counter Animation
        window.animateCounter = function(elementId, targetValue) {
            const element = document.getElementById(elementId);
            const startValue = 0;
            const duration = 2000;
            const increment = targetValue / (duration / 16);
            
            let currentValue = startValue;
            const timer = setInterval(() => {
                currentValue += increment;
                if (currentValue >= targetValue) {
                    element.textContent = targetValue.toLocaleString();
                    clearInterval(timer);
                    // Add a pulse effect when complete
                    element.style.animation = 'pulse 0.5s ease';
                    setTimeout(() => element.style.animation = '', 500);
                } else {
                    element.textContent = Math.floor(currentValue).toLocaleString();
                }
            }, 16);
        };
        
        // Enhanced Authentication Functions
        window.signInWithGoogle = async function() {
            try {
                const { signInWithGoogle } = await import('./firebase-auth.js');
                await signInWithGoogle();
                showToast('Welcome! üéâ', 'Successfully signed in with Google', 'success');
            } catch (error) {
                console.error('Sign in error:', error);
                showToast('Sign In Failed', error.message, 'error');
            }
        };
        
        window.signOutUser = async function() {
            try {
                const { signOutUser } = await import('./firebase-auth.js');
                await signOutUser();
                showToast('Goodbye! üëã', 'Successfully signed out', 'info');
            } catch (error) {
                console.error('Sign out error:', error);
                showToast('Sign Out Error', error.message, 'error');
            }
        };
        
        // Quiz Management Functions
        window.startQuiz = function(quizId) {
            if (!window.currentUser) {
                showToast('Authentication Required', 'Please sign in to start the quiz', 'warning');
                return;
            }
            
            localStorage.setItem('selectedQuizId', quizId);
            showToast('Loading Quiz...', 'Preparing your quiz experience', 'info');
            
            setTimeout(() => {
                window.location.href = 'quiz.html';
            }, 1000);
        };
        
        window.refreshQuizzes = function() {
            if (window.currentUser) {
                loadUserQuizzes();
                showToast('Refreshed! ‚ú®', 'Quiz list updated with latest content', 'success');
            }
        };
        
        // Filter Functions
        window.setupFilterListeners = function() {
            ['filterSubject', 'filterDifficulty'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('change', applyFilters);
                }
            });
        };
        
        window.applyFilters = function() {
            const subjectFilter = document.getElementById('filterSubject').value;
            const difficultyFilter = document.getElementById('filterDifficulty').value;
            
            let filteredQuizzes = window.availableQuizzes.slice();
            
            if (subjectFilter) {
                filteredQuizzes = filteredQuizzes.filter(quiz => quiz.subject === subjectFilter);
            }
            
            if (difficultyFilter) {
                filteredQuizzes = filteredQuizzes.filter(quiz => quiz.difficulty === difficultyFilter);
            }
            
            // Reset display state and show filtered quizzes
            const originalQuizzes = window.availableQuizzes;
            window.availableQuizzes = filteredQuizzes;
            window.displayedQuizzes = 0;
            displayQuizzes();
            
            // Restore original list for future filtering
            setTimeout(() => {
                window.availableQuizzes = originalQuizzes;
            }, 100);
            
            showToast('Filtered', `Found ${filteredQuizzes.length} matching quizzes`, 'info');
        };
        
        // Newsletter Subscription
        window.subscribeNewsletter = function() {
            const email = document.getElementById('subscribeEmail').value;
            if (email && email.includes('@')) {
                showToast('Subscribed! üìß', 'Thank you for subscribing to our updates', 'success');
                document.getElementById('subscribeEmail').value = '';
            } else {
                showToast('Invalid Email', 'Please enter a valid email address', 'error');
            }
        };
        
        // Enhanced Toast Notification System
        window.showToast = function(title, message, type = 'info') {
            const toast = document.getElementById('authToast');
            const toastTitle = document.getElementById('toastTitle');
            const toastMessage = document.getElementById('toastMessage');
            const toastIcon = document.getElementById('toastIcon');
            
            const config = {
                success: { icon: 'fas fa-check-circle text-success', class: 'bg-success' },
                error: { icon: 'fas fa-exclamation-circle text-danger', class: 'bg-danger' },
                warning: { icon: 'fas fa-exclamation-triangle text-warning', class: 'bg-warning' },
                info: { icon: 'fas fa-info-circle text-primary', class: 'bg-primary' }
            };
            
            const settings = config[type] || config.info;
            
            toastTitle.textContent = title;
            toastMessage.textContent = message;
            toastIcon.className = settings.icon;
            
            const bsToast = new bootstrap.Toast(toast, { delay: 4000 });
            bsToast.show();
        };
        
        // Utility Functions
        window.formatDate = function(dateString) {
            if (!dateString) return 'Recently';
            const date = new Date(dateString);
            return date.toLocaleDateString('en-IN', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        };
        
        // Enhanced Scroll Effects
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 100) {
                navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                navbar.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.15)';
            } else {
                navbar.style.background = 'rgba(255, 255, 255, 0.95)';
                navbar.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
            }
        });
        
        console.log('‚ú® Enhanced DigiQuiz Portal initialized successfully!');
    </script>
</body>
</html>
